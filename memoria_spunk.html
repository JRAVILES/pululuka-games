<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <title>MemÃ³ria Sprunki ðŸŽµâœ¨</title>
    <style>
      :root {
        --bg: #fff5fb;
        --card: #ffffff;
        --accent: #7b5dff;
        --ok: #33dfb0;
        --text: #1a1030;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: 'Poppins', Arial, sans-serif;
        background: radial-gradient(circle at 15% 20%, #fff5fb, #ffeab3 70%);
        color: var(--text);
        display: flex;
        min-height: 100svh;
        align-items: center;
        justify-content: center;
        padding: 16px;
      }
      .wrap {
        width: 100%;
        max-width: 1000px;
      }
      header {
        display: flex;
        gap: 12px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
        flex-wrap: wrap;
        background: rgba(255, 255, 255, 0.9);
        padding: 16px 20px;
        border-radius: 20px;
        box-shadow: 0 8px 20px rgba(114, 76, 213, 0.12);
      }
      .title {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 800;
        font-size: clamp(22px, 4vw, 36px);
        color: #3c1768;
      }
      .panel {
        display: flex;
        align-items: center;
        gap: 12px;
        flex-wrap: wrap;
      }
      .pill {
        background: linear-gradient(135deg, #e0d4ff, #ffd4e9);
        border: 2px solid rgba(123, 93, 255, 0.3);
        padding: 10px 16px;
        border-radius: 999px;
        font-weight: 700;
        box-shadow: 0 4px 12px rgba(123, 93, 255, 0.15);
        color: #3c1768;
      }
      button {
        appearance: none;
        border: none;
        background: linear-gradient(135deg, var(--accent), #9981fc);
        color: #fff;
        font-weight: 800;
        padding: 12px 20px;
        border-radius: 14px;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(123, 93, 255, 0.3);
        transition: 0.15s transform, 0.15s filter;
      }
      button:hover {
        filter: brightness(1.1);
      }
      button:active {
        transform: translateY(2px);
      }
      .grid {
        display: grid;
        gap: 14px;
        width: 100%;
        grid-template-columns: repeat(6, 1fr);
        padding: 20px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(79, 52, 170, 0.15);
      }
      @media (max-width: 768px) {
        .grid {
          grid-template-columns: repeat(4, 1fr);
          gap: 10px;
          padding: 12px;
        }
      }
      @media (max-width: 520px) {
        .grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }
      .card {
        position: relative;
        aspect-ratio: 1/1;
        perspective: 1000px;
        cursor: pointer;
      }
      .face {
        position: absolute;
        inset: 0;
        border-radius: 18px;
        display: grid;
        place-items: center;
        backface-visibility: hidden;
        transform-style: preserve-3d;
        transition: transform 0.4s ease, box-shadow 0.3s ease;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
      }
      .front {
        background: linear-gradient(135deg, #9981fc, #7b5dff);
        border: 3px solid rgba(255, 255, 255, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: clamp(28px, 6vw, 48px);
      }
      .front::before {
        content: 'ðŸŽµ';
      }
      .back {
        background: linear-gradient(135deg, #ffffff, #f0f0ff);
        transform: rotateY(180deg);
        border: 3px solid rgba(123, 93, 255, 0.3);
        padding: 8px;
      }
      .back img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
      }
      .card.flipped .front {
        transform: rotateY(180deg);
      }
      .card.flipped .back {
        transform: rotateY(360deg);
      }
      .card.matched .back {
        outline: 4px solid var(--ok);
        box-shadow: 0 10px 24px rgba(51, 223, 176, 0.4),
          inset 0 0 0 2px rgba(51, 223, 176, 0.6);
        animation: matchPulse 0.6s ease;
      }
      @keyframes matchPulse {
        0%,
        100% {
          transform: scale(1) rotateY(360deg);
        }
        50% {
          transform: scale(1.1) rotateY(360deg);
        }
      }
      .win {
        position: fixed;
        inset: 0;
        background: rgba(26, 16, 48, 0.85);
        backdrop-filter: blur(8px);
        display: none;
        place-items: center;
        z-index: 10;
      }
      .win.show {
        display: grid;
        animation: fadeIn 0.3s ease;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      .winbox {
        background: linear-gradient(135deg, #ffffff, #f0edff);
        border-radius: 24px;
        padding: 32px;
        text-align: center;
        max-width: 520px;
        width: 90%;
        box-shadow: 0 20px 60px rgba(123, 93, 255, 0.4);
        animation: slideUp 0.4s ease;
      }
      @keyframes slideUp {
        from {
          transform: translateY(30px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
      .big {
        font-size: clamp(28px, 5vw, 42px);
        font-weight: 900;
        margin: 0 0 12px;
        color: #3c1768;
      }
      .sub {
        opacity: 0.8;
        margin: 0 0 20px;
        font-size: 18px;
        color: #5d4389;
      }
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        background: var(--accent);
        position: absolute;
        animation: fall 3s linear;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <div class="title">ðŸŽµ MemÃ³ria Sprunki</div>
        <div class="panel">
          <div
            class="pill"
            id="moves"
            >Movimentos: 0</div
          >
          <div
            class="pill"
            id="time"
            >Tempo: 0s</div
          >
          <button id="btnReset">ðŸ”„ Reiniciar</button>
        </div>
      </header>

      <div
        class="grid"
        id="grid"
      ></div>

      <div
        class="win"
        id="win"
      >
        <div class="winbox">
          <p class="big">ðŸŽ‰ ParabÃ©ns! VocÃª venceu!</p>
          <p
            class="sub"
            id="stats"
          ></p>
          <button id="btnAgain">ðŸŽ® Jogar de novo</button>
        </div>
      </div>
    </div>

    <script>
      (() => {
        const PERSONAGENS = [
          {
            nome: 'Orange',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/3/3c/Orensvg.svg/revision/latest/scale-to-width-down/131?cb=20241105133516',
          },
          {
            nome: 'Raddy',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/a/a2/Raddysvg.svg/revision/latest/scale-to-width-down/126?cb=20241105133516',
          },
          {
            nome: 'Clukr',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/b/bb/Clukersvg.svg/revision/latest/scale-to-width-down/127?cb=20241215194356',
          },
          {
            nome: 'Vineria',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/0/0e/Vinerasvg.svg/revision/latest/scale-to-width-down/102?cb=20241105133511',
          },
          {
            nome: 'Wenda',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/d/d2/Wendasvg.svg/revision/latest?cb=20241105133513',
          },
          {
            nome: 'Sky',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/8/8b/Sky.svg/revision/latest/scale-to-width-down/103?cb=20241128191459',
          },
          {
            nome: 'Durple',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/f/ff/Durplesvg.svg/revision/latest/scale-to-width-down/101?cb=20241105133512',
          },
          {
            nome: 'Simon',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/6/62/Simonsvg.svg/revision/latest/scale-to-width-down/130?cb=20241105133512',
          },
          {
            nome: 'Pinki',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/5/54/Pinki.svg/revision/latest/scale-to-width-down/84?cb=20241128060048',
          },
          {
            nome: 'Jevin',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/7/70/Jevinsvg.svg/revision/latest/scale-to-width-down/109?cb=20241105133513',
          },
          {
            nome: 'Black',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/d/d5/Blacksvg.svg/revision/latest/scale-to-width-down/103?cb=20241105133516',
          },
          {
            nome: 'Garnold',
            imagem:
              'https://static.wikia.nocookie.net/incredibox-sprunki/images/0/0c/Garnoldsvg.svg/revision/latest/scale-to-width-down/110?cb=20241105133511',
          },
        ];

        const gridEl = document.getElementById('grid');
        const movesEl = document.getElementById('moves');
        const timeEl = document.getElementById('time');
        const winEl = document.getElementById('win');
        const statsEl = document.getElementById('stats');
        const btnReset = document.getElementById('btnReset');
        const btnAgain = document.getElementById('btnAgain');

        const PAIRS = 12;

        let first = null,
          second = null,
          lock = false,
          found = 0,
          moves = 0,
          startAt = null,
          timerId = null;

        function randPairs() {
          const pool = [...PERSONAGENS, ...PERSONAGENS];
          for (let i = pool.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [pool[i], pool[j]] = [pool[j], pool[i]];
          }
          return pool;
        }

        function makeCard(personagem) {
          const card = document.createElement('button');
          card.className = 'card';
          card.dataset.nome = personagem.nome;
          card.innerHTML = `
      <span class="face front"></span>
      <span class="face back">
        <img src="${personagem.imagem}" alt="${personagem.nome}" />
      </span>
    `;
          card.addEventListener('click', () => onFlip(card));
          return card;
        }

        function onFlip(card) {
          if (
            lock ||
            card.classList.contains('flipped') ||
            card.classList.contains('matched')
          )
            return;
          if (!startAt) {
            startAt = Date.now();
            startTimer();
          }

          card.classList.add('flipped');

          if (!first) {
            first = card;
            return;
          }
          if (card === first) return;

          second = card;
          moves++;
          movesEl.textContent = 'Movimentos: ' + moves;

          const a = first.dataset.nome;
          const b = second.dataset.nome;

          if (a === b) {
            first.classList.add('matched');
            second.classList.add('matched');
            first = second = null;
            found++;
            if (found === PAIRS) win();
          } else {
            lock = true;
            setTimeout(() => {
              first.classList.remove('flipped');
              second.classList.remove('flipped');
              first = second = null;
              lock = false;
            }, 800);
          }
        }

        function startTimer() {
          stopTimer();
          timerId = setInterval(() => {
            const secs = Math.floor((Date.now() - startAt) / 1000);
            timeEl.textContent = 'Tempo: ' + secs + 's';
          }, 250);
        }
        function stopTimer() {
          if (timerId) {
            clearInterval(timerId);
            timerId = null;
          }
        }

        function win() {
          stopTimer();
          const secs = Math.floor((Date.now() - startAt) / 1000);
          statsEl.textContent = `VocÃª completou em ${moves} movimentos e ${secs} segundos!`;
          winEl.classList.add('show');
        }

        function setup() {
          gridEl.innerHTML = '';
          winEl.classList.remove('show');
          moves = 0;
          found = 0;
          first = second = null;
          lock = false;
          startAt = null;
          movesEl.textContent = 'Movimentos: 0';
          timeEl.textContent = 'Tempo: 0s';
          stopTimer();

          const personagens = randPairs();
          personagens.forEach((p) => gridEl.appendChild(makeCard(p)));
        }

        btnReset.addEventListener('click', setup);
        btnAgain.addEventListener('click', setup);
        setup();
      })();
    </script>
  </body>
</html>
